<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Budget Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Project Budget Tracker</h1>

        <!-- Budget Input Section -->
        <div class="budget-input-section">
            <h2>Set Project Budget</h2>
            <div class="input-group">
                <input type="number" id="totalBudget" placeholder="Enter total budget" min="0" step="0.01">
                <button onclick="setTotalBudget()">Set Budget</button>
            </div>
        </div>

        <!-- Category Management Section -->
        <div class="category-management">
            <h2>Manage Categories</h2>
            <div class="input-group">
                <input type="text" id="newCategory" placeholder="New category name">
                <button onclick="addNewCategory()">Add Category</button>
            </div>
        </div>

        <!-- Expense Input Section -->
        <div class="expense-input-section">
            <h2>Add Expense</h2>
            <div class="input-group">
                <select id="expenseCategory">
                    <!-- Categories will be populated by JavaScript -->
                </select>
                <input type="number" id="expenseAmount" placeholder="Enter amount" min="0" step="0.01">
                <input type="text" id="expenseDescription" placeholder="Description">
                <button onclick="addExpense()">Add Expense</button>
                <button id="clearFields" class="secondary-button">Clear Fields</button>
            </div>

            <!-- Warning Message -->
            <div id="expenseWarning" style="display: none;"></div>

            <!-- ML Predictions Section - IMPROVED -->
            <div class="ml-predictions" id="mlPredictions">
                <h3>AI Predictions</h3>
                <div class="prediction-details">
                    <div class="prediction-main-info">
                        <p>Expected amount: <span id="expectedAmount">$0.00</span> <span id="trendIndicator"></span></p>
                        <p>Confidence: <span id="predictionConfidence">0.0%</span></p>
                        <div class="confidence-bar-container">
                            <div id="confidenceBar" class="confidence-bar"></div>
                        </div>
                    </div>
                    <div class="prediction-range">
                        <p>
                            <span class="range-label">Suggested range:</span>
                            <span id="suggestedMin">$0.00</span> - <span id="suggestedMax">$0.00</span>
                        </p>
                    </div>
                    <p id="predictionMessage" class="prediction-message">Select a category to see predictions</p>
                    <div id="predictionTrend" class="prediction-trend"></div>
                </div>
            </div>
        </div>

        <!-- Budget Overview -->
        <div class="budget-overview">
            <h2>Budget Overview</h2>
            <div class="progress-bar-container">
                <div id="budgetProgress" class="progress-bar"></div>
            </div>
            <div id="budgetSummary">
                <div class="summary-item">
                    <p>Total Budget:</p>
                    <p id="displayTotalBudget">$0</p>
                </div>
                <div class="summary-item">
                    <p>Total Expenses:</p>
                    <p id="displayTotalExpenses">$0</p>
                </div>
                <div class="summary-item">
                    <p>Remaining Budget:</p>
                    <p id="displayRemainingBudget">$0</p>
                </div>
            </div>
        </div>

        <!-- Filter and Sort Section -->
        <div class="filter-sort-section">
            <div class="controls-group">
                <select id="filterCategory">
                    <option value="all">All Categories</option>
                    <!-- Categories will be populated by JavaScript -->
                </select>
                <select id="sortBy">
                    <option value="date-desc">Date (Newest First)</option>
                    <option value="date-asc">Date (Oldest First)</option>
                    <option value="amount-desc">Amount (Highest First)</option>
                    <option value="amount-asc">Amount (Lowest First)</option>
                </select>
                <button class="export-button" onclick="exportExpenseData()">
                    <i class="fas fa-download"></i> Export Data
                </button>
            </div>
        </div>

        <!-- Expense Summary Section -->
        <div class="expense-summary" id="expenseSummary">
            <!-- Will be populated by JavaScript -->
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <h2>Expense Distribution</h2>
            <div class="chart-container">
                <canvas id="expensePieChart"></canvas>
            </div>
        </div>

        <!-- Expense List -->
        <div class="expense-list-section">
            <h2>Expense List</h2>
            <div id="expenseList">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>

        <!-- Budget Suggestions -->
        <div class="suggestions-section">
            <h2>Budget Suggestions</h2>
            <div id="budgetSuggestions">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Main JavaScript -->
    <script src="main.js"></script>
</body>

</html>
